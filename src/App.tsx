import { BrowserRouter, Link, Route, Routes } from "react-router-dom";
import { useState } from "react";
import { useQuery } from "@tanstack/react-query";

import { MainPage } from "./pages/MainPage";
import { FetchGenresMovies } from "./pages/ListGenres/FetchGenresMovies";
import { PageMoviesGenre } from "./pages/PageMoviesGenre";
import { PageMovie } from "./pages/PageMovie";
import { ModalTrailer } from "./Modal/ModalTrailer";
import { ModalTrailerContext, MovieIdContext } from "./api/Context";
import { ScrollToTop } from "./components/ScrollToTop";
import { AccountPort } from "./components/AccountPort";
import { fetchMe, UserLogin } from "./api/User";
import { queryClient } from "./api/queryClient";
import { FetchPageAccount } from "./pages/PageAccount";

import "./App.css";
import { SearchMovie } from "./components/SearchMovie";

export const App = () => {
  const [modalTrailer, setModalTrailer] = useState(false);
  const [movieId, setMovieId] = useState(0);
  const [authForm, setAuthForm] = useState(false);
  const [logIn, setLogIn] = useState(true);
  const [play, setPlay] = useState(true);

  let logInQueryData: UserLogin = {
    name: "",
    surname: "",
    email: "",
    favorites: [],
  };

  const handleModalActive = (name: number) => {
    setMovieId(name);
  };

  const handleAuthForm = () => {
    setAuthForm(true);
  };

  const logInQuery = useQuery(
    {
      queryFn: () => fetchMe(),
      queryKey: ["users", "me"],
      retry: 0,
    },
    queryClient
  );

  if (logInQuery.data != undefined) {
    logInQueryData = logInQuery.data;
  }

  return (
    <BrowserRouter>
      <ScrollToTop />
      <div className="wrapper">
        <div className="header">
          <div className="container">
            <Link to={"/"} className="header__item header__logo">
              <svg
                className="header__logo-icon"
                width="240"
                height="32"
                viewBox="0 0 240 32"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M11.8076 32C10.6569 32 9.62393 31.9399 8.70861 31.8197C7.81944 31.6995 6.83874 31.4742 5.76651 31.1437C4.56352 30.7831 3.56974 30.3174 2.78518 29.7465C2.00063 29.1455 1.34683 28.3192 0.823787 27.2676C0.274596 26.216 0 24.969 0 23.5268V10.6817C0 4.79249 3.93587 1.84789 11.8076 1.84789C13.8213 1.84789 16.515 2.1784 19.8886 2.83944V8.11268C16.8549 7.27136 14.1874 6.8507 11.8861 6.8507C10.9184 6.8507 10.16 6.88075 9.61085 6.94085C9.08781 7.00094 8.53862 7.15117 7.96327 7.39155C6.73413 7.8723 6.11956 8.93897 6.11956 10.5915V23.031C6.11956 25.6751 8.2248 26.9972 12.4353 26.9972C14.2397 26.9972 16.7765 26.5615 20.0455 25.6901V31.0085C17.2472 31.6695 14.5013 32 11.8076 32Z"
                  fill="black"
                />
                <path
                  d="M11.8076 32C10.6569 32 9.62393 31.9399 8.70861 31.8197C7.81944 31.6995 6.83874 31.4742 5.76651 31.1437C4.56352 30.7831 3.56974 30.3174 2.78518 29.7465C2.00063 29.1455 1.34683 28.3192 0.823787 27.2676C0.274596 26.216 0 24.969 0 23.5268V10.6817C0 4.79249 3.93587 1.84789 11.8076 1.84789C13.8213 1.84789 16.515 2.1784 19.8886 2.83944V8.11268C16.8549 7.27136 14.1874 6.8507 11.8861 6.8507C10.9184 6.8507 10.16 6.88075 9.61085 6.94085C9.08781 7.00094 8.53862 7.15117 7.96327 7.39155C6.73413 7.8723 6.11956 8.93897 6.11956 10.5915V23.031C6.11956 25.6751 8.2248 26.9972 12.4353 26.9972C14.2397 26.9972 16.7765 26.5615 20.0455 25.6901V31.0085C17.2472 31.6695 14.5013 32 11.8076 32Z"
                  fill="url(#paint0_linear_3237_1241)"
                />
                <path
                  d="M23.8773 1.84789H29.6045V7.1662H23.8773V1.84789ZM23.8773 9.73521H29.6045V31.5493H23.8773V9.73521Z"
                  fill="black"
                />
                <path
                  d="M23.8773 1.84789H29.6045V7.1662H23.8773V1.84789ZM23.8773 9.73521H29.6045V31.5493H23.8773V9.73521Z"
                  fill="url(#paint1_linear_3237_1241)"
                />
                <path
                  d="M34.7915 9.73521H40.4403V12.3944C40.8849 10.3211 42.9117 9.28451 46.5207 9.28451C48.9528 9.28451 50.6527 9.79531 51.6203 10.8169C52.6141 11.8085 53.111 13.3859 53.111 15.5493V31.5493H47.3837V16.4056C47.3837 15.5643 47.3052 14.9333 47.1483 14.5127C47.0176 14.092 46.7299 13.7915 46.2853 13.6113C45.8669 13.431 45.2131 13.3408 44.3239 13.3408C43.1994 13.3408 42.3756 13.431 41.8526 13.6113C41.3295 13.7615 40.9765 14.0469 40.7934 14.4676C40.6103 14.8883 40.5188 15.5343 40.5188 16.4056V31.5493H34.7915V9.73521Z"
                  fill="black"
                />
                <path
                  d="M34.7915 9.73521H40.4403V12.3944C40.8849 10.3211 42.9117 9.28451 46.5207 9.28451C48.9528 9.28451 50.6527 9.79531 51.6203 10.8169C52.6141 11.8085 53.111 13.3859 53.111 15.5493V31.5493H47.3837V16.4056C47.3837 15.5643 47.3052 14.9333 47.1483 14.5127C47.0176 14.092 46.7299 13.7915 46.2853 13.6113C45.8669 13.431 45.2131 13.3408 44.3239 13.3408C43.1994 13.3408 42.3756 13.431 41.8526 13.6113C41.3295 13.7615 40.9765 14.0469 40.7934 14.4676C40.6103 14.8883 40.5188 15.5343 40.5188 16.4056V31.5493H34.7915V9.73521Z"
                  fill="url(#paint2_linear_3237_1241)"
                />
                <path
                  d="M67.6538 32C60.9328 32 57.5722 29.6413 57.5722 24.9239V17.0817C57.5722 14.3474 58.3306 12.3643 59.8475 11.1324C61.3904 9.90047 63.7572 9.28451 66.9477 9.28451C69.9552 9.28451 72.152 9.88545 73.538 11.0873C74.9502 12.2592 75.6563 14.2573 75.6563 17.0817V22.4H63.3387V24.3831C63.3387 25.6451 63.731 26.5465 64.5156 27.0873C65.3001 27.6282 66.7123 27.8986 68.7522 27.8986C70.6351 27.8986 72.7535 27.5831 75.1071 26.9521V31.1437C72.7796 31.7146 70.2952 32 67.6538 32ZM70.2036 18.6592V15.5042C70.2036 14.7831 69.9421 14.2423 69.4191 13.8817C68.9222 13.5211 68.0723 13.3408 66.8693 13.3408C65.4832 13.3408 64.5548 13.5211 64.0841 13.8817C63.5872 14.2723 63.3387 14.8131 63.3387 15.5042V18.6592H70.2036Z"
                  fill="black"
                />
                <path
                  d="M67.6538 32C60.9328 32 57.5722 29.6413 57.5722 24.9239V17.0817C57.5722 14.3474 58.3306 12.3643 59.8475 11.1324C61.3904 9.90047 63.7572 9.28451 66.9477 9.28451C69.9552 9.28451 72.152 9.88545 73.538 11.0873C74.9502 12.2592 75.6563 14.2573 75.6563 17.0817V22.4H63.3387V24.3831C63.3387 25.6451 63.731 26.5465 64.5156 27.0873C65.3001 27.6282 66.7123 27.8986 68.7522 27.8986C70.6351 27.8986 72.7535 27.5831 75.1071 26.9521V31.1437C72.7796 31.7146 70.2952 32 67.6538 32ZM70.2036 18.6592V15.5042C70.2036 14.7831 69.9421 14.2423 69.4191 13.8817C68.9222 13.5211 68.0723 13.3408 66.8693 13.3408C65.4832 13.3408 64.5548 13.5211 64.0841 13.8817C63.5872 14.2723 63.3387 14.8131 63.3387 15.5042V18.6592H70.2036Z"
                  fill="url(#paint3_linear_3237_1241)"
                />
                <path
                  d="M80.0339 9.73521H85.7612V12.3944C86.1273 10.3211 87.9972 9.28451 91.3708 9.28451C93.1491 9.28451 94.496 9.55493 95.4113 10.0958C96.3266 10.6066 96.9412 11.4178 97.255 12.5296C97.5688 11.3878 98.1703 10.5615 99.0595 10.0507C99.9748 9.53991 101.348 9.28451 103.178 9.28451C104.826 9.28451 106.094 9.50986 106.984 9.96056C107.873 10.3812 108.487 11.0423 108.827 11.9437C109.193 12.8451 109.376 14.0469 109.376 15.5493V31.5493H103.649V16.4507C103.649 15.4892 103.597 14.8131 103.492 14.4225C103.388 14.0019 103.152 13.7164 102.786 13.5662C102.446 13.416 101.845 13.3408 100.982 13.3408C99.9094 13.3408 99.1379 13.416 98.6672 13.5662C98.2226 13.7164 97.9219 14.0019 97.765 14.4225C97.6342 14.8131 97.5688 15.4892 97.5688 16.4507V31.5493H91.8415V16.4507C91.8415 15.4892 91.7892 14.8131 91.6846 14.4225C91.58 14.0019 91.3447 13.7164 90.9785 13.5662C90.6385 13.416 90.037 13.3408 89.174 13.3408C88.1018 13.3408 87.3303 13.416 86.8596 13.5662C86.415 13.7164 86.1143 14.0019 85.9573 14.4225C85.8266 14.8131 85.7612 15.4892 85.7612 16.4507V31.5493H80.0339V9.73521Z"
                  fill="black"
                />
                <path
                  d="M80.0339 9.73521H85.7612V12.3944C86.1273 10.3211 87.9972 9.28451 91.3708 9.28451C93.1491 9.28451 94.496 9.55493 95.4113 10.0958C96.3266 10.6066 96.9412 11.4178 97.255 12.5296C97.5688 11.3878 98.1703 10.5615 99.0595 10.0507C99.9748 9.53991 101.348 9.28451 103.178 9.28451C104.826 9.28451 106.094 9.50986 106.984 9.96056C107.873 10.3812 108.487 11.0423 108.827 11.9437C109.193 12.8451 109.376 14.0469 109.376 15.5493V31.5493H103.649V16.4507C103.649 15.4892 103.597 14.8131 103.492 14.4225C103.388 14.0019 103.152 13.7164 102.786 13.5662C102.446 13.416 101.845 13.3408 100.982 13.3408C99.9094 13.3408 99.1379 13.416 98.6672 13.5662C98.2226 13.7164 97.9219 14.0019 97.765 14.4225C97.6342 14.8131 97.5688 15.4892 97.5688 16.4507V31.5493H91.8415V16.4507C91.8415 15.4892 91.7892 14.8131 91.6846 14.4225C91.58 14.0019 91.3447 13.7164 90.9785 13.5662C90.6385 13.416 90.037 13.3408 89.174 13.3408C88.1018 13.3408 87.3303 13.416 86.8596 13.5662C86.415 13.7164 86.1143 14.0019 85.9573 14.4225C85.8266 14.8131 85.7612 15.4892 85.7612 16.4507V31.5493H80.0339V9.73521Z"
                  fill="url(#paint4_linear_3237_1241)"
                />
                <path
                  d="M119.771 32C117.993 32 116.659 31.8197 115.77 31.4592C114.907 31.0685 114.292 30.3925 113.926 29.431C113.586 28.4394 113.416 26.9671 113.416 25.0141C113.416 23.2714 113.599 21.9042 113.965 20.9127C114.357 19.9211 114.972 19.215 115.809 18.7944C116.672 18.3437 117.849 18.1183 119.339 18.1183H125.773V16.631C125.773 15.6995 125.655 15.0085 125.42 14.5577C125.211 14.107 124.805 13.7915 124.204 13.6113C123.628 13.431 122.752 13.3408 121.575 13.3408C119.954 13.3408 117.731 13.5211 114.907 13.8817V9.73521C116.973 9.43474 119.392 9.28451 122.164 9.28451C124.596 9.28451 126.466 9.49484 127.773 9.91549C129.107 10.3362 130.062 11.0573 130.637 12.0789C131.212 13.1005 131.5 14.5878 131.5 16.5408V31.5493H125.89V29.5662C125.446 30.4376 124.844 31.0535 124.086 31.4141C123.328 31.8047 121.889 32 119.771 32ZM122.007 27.8986C123.158 27.8986 123.981 27.8535 124.478 27.7634C124.844 27.7033 125.093 27.6131 125.224 27.493C125.381 27.3728 125.511 27.1775 125.616 26.907C125.72 26.6967 125.773 26.3812 125.773 25.9606V21.7239H121.85C120.961 21.7239 120.333 21.7991 119.967 21.9493C119.601 22.0695 119.352 22.3399 119.222 22.7606C119.091 23.1512 119.026 23.8573 119.026 24.8789C119.026 25.8704 119.091 26.5615 119.222 26.9521C119.352 27.3427 119.601 27.5981 119.967 27.7183C120.359 27.8385 121.039 27.8986 122.007 27.8986Z"
                  fill="black"
                />
                <path
                  d="M119.771 32C117.993 32 116.659 31.8197 115.77 31.4592C114.907 31.0685 114.292 30.3925 113.926 29.431C113.586 28.4394 113.416 26.9671 113.416 25.0141C113.416 23.2714 113.599 21.9042 113.965 20.9127C114.357 19.9211 114.972 19.215 115.809 18.7944C116.672 18.3437 117.849 18.1183 119.339 18.1183H125.773V16.631C125.773 15.6995 125.655 15.0085 125.42 14.5577C125.211 14.107 124.805 13.7915 124.204 13.6113C123.628 13.431 122.752 13.3408 121.575 13.3408C119.954 13.3408 117.731 13.5211 114.907 13.8817V9.73521C116.973 9.43474 119.392 9.28451 122.164 9.28451C124.596 9.28451 126.466 9.49484 127.773 9.91549C129.107 10.3362 130.062 11.0573 130.637 12.0789C131.212 13.1005 131.5 14.5878 131.5 16.5408V31.5493H125.89V29.5662C125.446 30.4376 124.844 31.0535 124.086 31.4141C123.328 31.8047 121.889 32 119.771 32ZM122.007 27.8986C123.158 27.8986 123.981 27.8535 124.478 27.7634C124.844 27.7033 125.093 27.6131 125.224 27.493C125.381 27.3728 125.511 27.1775 125.616 26.907C125.72 26.6967 125.773 26.3812 125.773 25.9606V21.7239H121.85C120.961 21.7239 120.333 21.7991 119.967 21.9493C119.601 22.0695 119.352 22.3399 119.222 22.7606C119.091 23.1512 119.026 23.8573 119.026 24.8789C119.026 25.8704 119.091 26.5615 119.222 26.9521C119.352 27.3427 119.601 27.5981 119.967 27.7183C120.359 27.8385 121.039 27.8986 122.007 27.8986Z"
                  fill="url(#paint5_linear_3237_1241)"
                />
                <path
                  d="M148.896 32C147.431 32 146.137 31.9249 145.012 31.7746C143.888 31.6244 142.776 31.369 141.678 31.0085C140.501 30.6479 139.533 30.1671 138.775 29.5662C138.017 28.9352 137.402 28.1239 136.931 27.1324C136.461 26.0808 136.225 24.8789 136.225 23.5268V11.3577C136.225 9.88545 136.487 8.56338 137.01 7.39155C137.533 6.18967 138.239 5.24319 139.128 4.55211C139.965 3.92113 140.959 3.38028 142.109 2.92958C143.286 2.47887 144.437 2.1784 145.561 2.02817C146.503 1.90798 147.641 1.84789 148.974 1.84789C152.583 1.84789 156.035 2.16338 159.33 2.79437V8.11268C156.297 7.27136 152.845 6.8507 148.974 6.8507C144.555 6.8507 142.345 8.323 142.345 11.2676V23.031C142.345 24.4732 142.933 25.4948 144.11 26.0958C145.313 26.6967 147.117 26.9972 149.523 26.9972C150.805 26.9972 152.178 26.7718 153.642 26.3211V19.5155H149.484V14.9183H159.487V30.107C158.18 30.6479 156.506 31.0986 154.466 31.4592C152.453 31.8197 150.596 32 148.896 32Z"
                  fill="black"
                />
                <path
                  d="M148.896 32C147.431 32 146.137 31.9249 145.012 31.7746C143.888 31.6244 142.776 31.369 141.678 31.0085C140.501 30.6479 139.533 30.1671 138.775 29.5662C138.017 28.9352 137.402 28.1239 136.931 27.1324C136.461 26.0808 136.225 24.8789 136.225 23.5268V11.3577C136.225 9.88545 136.487 8.56338 137.01 7.39155C137.533 6.18967 138.239 5.24319 139.128 4.55211C139.965 3.92113 140.959 3.38028 142.109 2.92958C143.286 2.47887 144.437 2.1784 145.561 2.02817C146.503 1.90798 147.641 1.84789 148.974 1.84789C152.583 1.84789 156.035 2.16338 159.33 2.79437V8.11268C156.297 7.27136 152.845 6.8507 148.974 6.8507C144.555 6.8507 142.345 8.323 142.345 11.2676V23.031C142.345 24.4732 142.933 25.4948 144.11 26.0958C145.313 26.6967 147.117 26.9972 149.523 26.9972C150.805 26.9972 152.178 26.7718 153.642 26.3211V19.5155H149.484V14.9183H159.487V30.107C158.18 30.6479 156.506 31.0986 154.466 31.4592C152.453 31.8197 150.596 32 148.896 32Z"
                  fill="url(#paint6_linear_3237_1241)"
                />
                <path
                  d="M170.788 32C168.356 32 166.643 31.5042 165.649 30.5127C164.682 29.4911 164.198 27.8986 164.198 25.7352V9.73521H169.925V24.8338C169.925 25.6751 169.99 26.3061 170.121 26.7268C170.278 27.1474 170.566 27.4479 170.984 27.6282C171.429 27.8085 172.096 27.8986 172.985 27.8986C174.109 27.8986 174.933 27.8235 175.456 27.6732C175.979 27.493 176.332 27.1925 176.515 26.7718C176.698 26.3512 176.79 25.7052 176.79 24.8338V9.73521H182.517V31.5493H176.868V28.8901C176.45 30.9634 174.423 32 170.788 32Z"
                  fill="black"
                />
                <path
                  d="M170.788 32C168.356 32 166.643 31.5042 165.649 30.5127C164.682 29.4911 164.198 27.8986 164.198 25.7352V9.73521H169.925V24.8338C169.925 25.6751 169.99 26.3061 170.121 26.7268C170.278 27.1474 170.566 27.4479 170.984 27.6282C171.429 27.8085 172.096 27.8986 172.985 27.8986C174.109 27.8986 174.933 27.8235 175.456 27.6732C175.979 27.493 176.332 27.1925 176.515 26.7718C176.698 26.3512 176.79 25.7052 176.79 24.8338V9.73521H182.517V31.5493H176.868V28.8901C176.45 30.9634 174.423 32 170.788 32Z"
                  fill="url(#paint7_linear_3237_1241)"
                />
                <path
                  d="M187.685 1.84789H193.412V7.1662H187.685V1.84789ZM187.685 9.73521H193.412V31.5493H187.685V9.73521Z"
                  fill="black"
                />
                <path
                  d="M187.685 1.84789H193.412V7.1662H187.685V1.84789ZM187.685 9.73521H193.412V31.5493H187.685V9.73521Z"
                  fill="url(#paint8_linear_3237_1241)"
                />
                <path
                  d="M205.895 32C203.646 32 201.986 31.8197 200.913 31.4592C199.841 31.0685 199.096 30.3474 198.677 29.2958C198.259 28.2441 198.05 26.6066 198.05 24.3831V15.8648C198.05 13.461 198.638 11.7634 199.815 10.7718C201.018 9.78028 202.953 9.28451 205.621 9.28451C206.876 9.28451 207.857 9.37465 208.563 9.55493C209.295 9.70516 209.883 9.99061 210.328 10.4113C210.773 10.8019 211.23 11.3878 211.701 12.169V0H217.428V31.5493H211.897V29.0704C211.426 29.9418 210.995 30.5577 210.603 30.9183C210.236 31.2488 209.713 31.5042 209.034 31.6845C208.327 31.8948 207.281 32 205.895 32ZM207.347 27.8986C208.628 27.8986 209.57 27.8235 210.171 27.6732C210.773 27.523 211.178 27.2526 211.387 26.862C211.596 26.4413 211.701 25.8254 211.701 25.0141V16.2254C211.701 15.4742 211.583 14.9033 211.348 14.5127C211.139 14.092 210.746 13.7915 210.171 13.6113C209.622 13.431 208.785 13.3408 207.661 13.3408C206.458 13.3408 205.595 13.431 205.071 13.6113C204.548 13.7615 204.195 14.0469 204.012 14.4676C203.855 14.8582 203.777 15.5192 203.777 16.4507V24.7887C203.777 25.63 203.855 26.2761 204.012 26.7268C204.195 27.1474 204.535 27.4479 205.032 27.6282C205.529 27.8085 206.301 27.8986 207.347 27.8986Z"
                  fill="black"
                />
                <path
                  d="M205.895 32C203.646 32 201.986 31.8197 200.913 31.4592C199.841 31.0685 199.096 30.3474 198.677 29.2958C198.259 28.2441 198.05 26.6066 198.05 24.3831V15.8648C198.05 13.461 198.638 11.7634 199.815 10.7718C201.018 9.78028 202.953 9.28451 205.621 9.28451C206.876 9.28451 207.857 9.37465 208.563 9.55493C209.295 9.70516 209.883 9.99061 210.328 10.4113C210.773 10.8019 211.23 11.3878 211.701 12.169V0H217.428V31.5493H211.897V29.0704C211.426 29.9418 210.995 30.5577 210.603 30.9183C210.236 31.2488 209.713 31.5042 209.034 31.6845C208.327 31.8948 207.281 32 205.895 32ZM207.347 27.8986C208.628 27.8986 209.57 27.8235 210.171 27.6732C210.773 27.523 211.178 27.2526 211.387 26.862C211.596 26.4413 211.701 25.8254 211.701 25.0141V16.2254C211.701 15.4742 211.583 14.9033 211.348 14.5127C211.139 14.092 210.746 13.7915 210.171 13.6113C209.622 13.431 208.785 13.3408 207.661 13.3408C206.458 13.3408 205.595 13.431 205.071 13.6113C204.548 13.7615 204.195 14.0469 204.012 14.4676C203.855 14.8582 203.777 15.5192 203.777 16.4507V24.7887C203.777 25.63 203.855 26.2761 204.012 26.7268C204.195 27.1474 204.535 27.4479 205.032 27.6282C205.529 27.8085 206.301 27.8986 207.347 27.8986Z"
                  fill="url(#paint9_linear_3237_1241)"
                />
                <path
                  d="M231.997 32C225.276 32 221.916 29.6413 221.916 24.9239V17.0817C221.916 14.3474 222.674 12.3643 224.191 11.1324C225.734 9.90047 228.101 9.28451 231.291 9.28451C234.299 9.28451 236.496 9.88545 237.882 11.0873C239.294 12.2592 240 14.2573 240 17.0817V22.4H227.682V24.3831C227.682 25.6451 228.075 26.5465 228.859 27.0873C229.644 27.6282 231.056 27.8986 233.096 27.8986C234.979 27.8986 237.097 27.5831 239.451 26.9521V31.1437C237.123 31.7146 234.639 32 231.997 32ZM234.547 18.6592V15.5042C234.547 14.7831 234.286 14.2423 233.763 13.8817C233.266 13.5211 232.416 13.3408 231.213 13.3408C229.827 13.3408 228.898 13.5211 228.428 13.8817C227.931 14.2723 227.682 14.8131 227.682 15.5042V18.6592H234.547Z"
                  fill="black"
                />
                <path
                  d="M231.997 32C225.276 32 221.916 29.6413 221.916 24.9239V17.0817C221.916 14.3474 222.674 12.3643 224.191 11.1324C225.734 9.90047 228.101 9.28451 231.291 9.28451C234.299 9.28451 236.496 9.88545 237.882 11.0873C239.294 12.2592 240 14.2573 240 17.0817V22.4H227.682V24.3831C227.682 25.6451 228.075 26.5465 228.859 27.0873C229.644 27.6282 231.056 27.8986 233.096 27.8986C234.979 27.8986 237.097 27.5831 239.451 26.9521V31.1437C237.123 31.7146 234.639 32 231.997 32ZM234.547 18.6592V15.5042C234.547 14.7831 234.286 14.2423 233.763 13.8817C233.266 13.5211 232.416 13.3408 231.213 13.3408C229.827 13.3408 228.898 13.5211 228.428 13.8817C227.931 14.2723 227.682 14.8131 227.682 15.5042V18.6592H234.547Z"
                  fill="url(#paint10_linear_3237_1241)"
                />
                <defs>
                  <linearGradient
                    id="paint0_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                  <linearGradient
                    id="paint1_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                  <linearGradient
                    id="paint2_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                  <linearGradient
                    id="paint3_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                  <linearGradient
                    id="paint4_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                  <linearGradient
                    id="paint5_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                  <linearGradient
                    id="paint6_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                  <linearGradient
                    id="paint7_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                  <linearGradient
                    id="paint8_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                  <linearGradient
                    id="paint9_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                  <linearGradient
                    id="paint10_linear_3237_1241"
                    x1="-2.197"
                    y1="-6.76056"
                    x2="218.726"
                    y2="91.6682"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0.2" stopColor="#6A5DC2" />
                    <stop offset="0.8" stopColor="#DC5DFC" />
                  </linearGradient>
                </defs>
              </svg>
            </Link>
            <div className="header__centre header__item">
              <nav className="nav">
                <Link to={"/"} className="nav__link header__hover main-mob">
                  Главная
                </Link>
                <Link to={"/genres"} className="nav__link header__hover">
                  <span className="genres-pk">Жанры</span>
                  <svg
                    className="genres-mob"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7 11.5C4.51472 11.5 2.5 9.48528 2.5 7C2.5 4.51472 4.51472 2.5 7 2.5C9.48528 2.5 11.5 4.51472 11.5 7C11.5 9.48528 9.48528 11.5 7 11.5ZM7 21.5C4.51472 21.5 2.5 19.4853 2.5 17C2.5 14.5147 4.51472 12.5 7 12.5C9.48528 12.5 11.5 14.5147 11.5 17C11.5 19.4853 9.48528 21.5 7 21.5ZM17 11.5C14.5147 11.5 12.5 9.48528 12.5 7C12.5 4.51472 14.5147 2.5 17 2.5C19.4853 2.5 21.5 4.51472 21.5 7C21.5 9.48528 19.4853 11.5 17 11.5ZM17 21.5C14.5147 21.5 12.5 19.4853 12.5 17C12.5 14.5147 14.5147 12.5 17 12.5C19.4853 12.5 21.5 14.5147 21.5 17C21.5 19.4853 19.4853 21.5 17 21.5ZM7 9.5C8.38071 9.5 9.5 8.38071 9.5 7C9.5 5.61929 8.38071 4.5 7 4.5C5.61929 4.5 4.5 5.61929 4.5 7C4.5 8.38071 5.61929 9.5 7 9.5ZM7 19.5C8.38071 19.5 9.5 18.3807 9.5 17C9.5 15.6193 8.38071 14.5 7 14.5C5.61929 14.5 4.5 15.6193 4.5 17C4.5 18.3807 5.61929 19.5 7 19.5ZM17 9.5C18.3807 9.5 19.5 8.38071 19.5 7C19.5 5.61929 18.3807 4.5 17 4.5C15.6193 4.5 14.5 5.61929 14.5 7C14.5 8.38071 15.6193 9.5 17 9.5ZM17 19.5C18.3807 19.5 19.5 18.3807 19.5 17C19.5 15.6193 18.3807 14.5 17 14.5C15.6193 14.5 14.5 15.6193 14.5 17C14.5 18.3807 15.6193 19.5 17 19.5Z"
                      fill="white"
                    />
                  </svg>
                </Link>
              </nav>
              <SearchMovie />
            </div>
            <div>
              <button
                className={
                  !logIn
                    ? "header__btn none"
                    : "header__btn header__hover btn-reset"
                }
                onClick={handleAuthForm}
              >
                <span className="account-pk">Войти</span>
                <svg
                  className="account-mob"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z"
                    fill="white"
                  />
                </svg>
              </button>

              <Link
                to={"/account"}
                className={
                  logIn
                    ? "header__btn none"
                    : "header__btn header__hover btn-reset header__item"
                }
              >
                <span className="account-pk">{logInQuery.data?.name}</span>
                <svg
                  className="account-mob"
                  width="16"
                  height="21"
                  viewBox="0 0 16 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0 21C0 16.5817 3.58172 13 8 13C12.4183 13 16 16.5817 16 21H0ZM8 12C4.685 12 2 9.315 2 6C2 2.685 4.685 0 8 0C11.315 0 14 2.685 14 6C14 9.315 11.315 12 8 12Z"
                    fill="white"
                  />
                </svg>
              </Link>
            </div>
          </div>
        </div>
        <MovieIdContext.Provider value={{ movieId }}>
          <ModalTrailerContext.Provider
            value={{ modalTrailer, setModalTrailer }}
          >
            <div className="section">
              <main className="main">
                <div className="container">
                  <Routes>
                    <Route
                      path="/"
                      element={
                        <MainPage
                          onClick={handleModalActive}
                          setAuthForm={setAuthForm}
                          logInQueryStatus={logInQuery.status}
                          setPlay={setPlay}
                        />
                      }
                    />
                    <Route path="/genres" element={<FetchGenresMovies />} />
                    <Route path="/genre" element={<PageMoviesGenre />} />
                    <Route
                      path="/movie"
                      element={
                        <PageMovie
                          setAuthForm={setAuthForm}
                          onClick={handleModalActive}
                          logInQueryStatus={logInQuery.status}
                          setPlay={setPlay}
                        />
                      }
                    />
                    <Route
                      path="/account"
                      element={
                        <FetchPageAccount
                          logInQueryData={logInQueryData}
                          logInQueryStatus={logInQuery.status}
                          setLogIn={setLogIn}
                          setAuthForm={setAuthForm}
                        />
                      }
                    />
                  </Routes>
                </div>
              </main>
            </div>

            <ModalTrailer play={play} setPlay={setPlay} />
            <AccountPort
              modalActive={authForm}
              setModalActive={setAuthForm}
              setLogIn={setLogIn}
              logInQueryStatus={logInQuery.status}
            />
          </ModalTrailerContext.Provider>
        </MovieIdContext.Provider>

        <div className="footer">
          <div className="container footer__container">
            <div className="footer__left left">
              <p className="footer__logo left__item">
                LLC «Мультимедиа Визион»
              </p>
              <div className="left__item">
                <div className="footer__icon"></div>
                <p className="footer__rights">Все права защищены</p>
              </div>
            </div>
            <div className="footer__social list-reset social">
              <Link to={"https://vk.com"} className="social__item vk">
                <svg
                  width="19"
                  height="11"
                  viewBox="0 0 19 11"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M18.4865 1.37968C18.6253 0.985106 18.4865 0.698125 17.8719 0.698125H15.8298C15.3144 0.698125 15.0764 0.949207 14.9377 1.21829C14.9377 1.21829 13.8869 3.51408 12.4198 5.00273C11.9439 5.4332 11.7259 5.57669 11.4682 5.57669C11.3293 5.57669 11.1509 5.4332 11.1509 5.03862V1.36173C11.1509 0.895411 10.9923 0.680176 10.5561 0.680176H7.34436C7.02714 0.680176 6.8289 0.895411 6.8289 1.11065C6.8289 1.55907 7.56243 1.66666 7.64174 2.92217V5.64843C7.64174 6.24034 7.52281 6.34793 7.26505 6.34793C6.57115 6.34793 4.88596 4.03419 3.87484 1.39763C3.67655 0.877462 3.47831 0.680176 2.96286 0.680176H0.90093C0.306165 0.680176 0.207031 0.93131 0.207031 1.20034C0.207031 1.68461 0.90093 4.12389 3.43863 7.35236C5.12388 9.55846 7.52281 10.7422 9.68383 10.7422C10.9923 10.7422 11.1509 10.4732 11.1509 10.0248V8.3568C11.1509 7.81868 11.2699 7.72904 11.6862 7.72904C11.9836 7.72904 12.5189 7.87248 13.7283 8.9307C15.1161 10.1862 15.354 10.7602 16.1272 10.7602H18.1693C18.764 10.7602 19.0416 10.4911 18.883 9.97098C18.7046 9.45087 18.0305 8.69757 17.1582 7.80073C16.6823 7.29857 15.9686 6.74256 15.7505 6.47347C15.4531 6.1148 15.5324 5.97131 15.7505 5.64843C15.7307 5.64843 18.2287 2.45585 18.4865 1.37968Z"
                    fill="white"
                  />
                </svg>
              </Link>
              <Link to={"https://www.youtube.com"} className="social__item yt">
                <svg
                  width="16"
                  height="12"
                  viewBox="0 0 16 12"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.0013 1.04957C14.6622 1.23093 15.1827 1.7653 15.3593 2.4439C15.6803 3.67379 15.6803 6.23997 15.6803 6.23997C15.6803 6.23997 15.6803 8.80606 15.3593 10.036C15.1827 10.7146 14.6622 11.249 14.0013 11.4305C12.8035 11.76 8.00031 11.76 8.00031 11.76C8.00031 11.76 3.19708 11.76 1.99927 11.4305C1.33835 11.249 0.817854 10.7146 0.641214 10.036C0.320312 8.80606 0.320312 6.23997 0.320312 6.23997C0.320312 6.23997 0.320312 3.67379 0.641214 2.4439C0.817854 1.7653 1.33835 1.23093 1.99927 1.04957C3.19708 0.719971 8.00031 0.719971 8.00031 0.719971C8.00031 0.719971 12.8035 0.719971 14.0013 1.04957ZM6.56028 4.0802V8.88021L10.4003 6.4803L6.56028 4.0802Z"
                    fill="white"
                  />
                </svg>
              </Link>
              <Link to={"https://ok.ru"} className="social__item ok">
                <svg
                  width="12"
                  height="19"
                  viewBox="0 0 12 19"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M7.91902 13.2622L10.5725 15.8238C11.116 16.3474 11.116 17.1978 10.5725 17.722C10.0294 18.2462 9.14932 18.2462 8.60687 17.722L5.99801 15.2048L3.39142 17.722C3.11963 17.9838 2.76349 18.1149 2.40735 18.1149C2.05178 18.1149 1.69621 17.9838 1.42441 17.722C0.881398 17.1978 0.881398 16.348 1.42385 15.8238L4.07758 13.2622C3.1114 13.0497 2.17958 12.6802 1.32132 12.1604C0.671803 11.7651 0.476693 10.9369 0.885942 10.3094C1.29406 9.68105 2.15232 9.49189 2.80297 9.8872C4.74612 11.0671 7.24933 11.0674 9.19362 9.8872C9.84428 9.49189 10.7023 9.68105 11.1112 10.3094C11.5205 10.9364 11.3248 11.7651 10.6753 12.1604C9.81701 12.6807 8.8852 13.0497 7.91902 13.2622Z"
                    fill="white"
                  />
                  <path
                    fillRule="evenodd"
                    d="M1.24023 4.94193C1.24023 7.46791 3.36913 9.52263 5.98679 9.52263C8.60502 9.52263 10.7333 7.46791 10.7333 4.94193C10.7333 2.41513 8.60502 0.359863 5.98679 0.359863C3.36913 0.359863 1.24023 2.41513 1.24023 4.94193ZM7.95202 4.94145C7.95202 3.89531 7.07048 3.04463 5.98672 3.04463C4.90381 3.04463 4.02141 3.89531 4.02141 4.94145C4.02141 5.98676 4.90381 6.83799 5.98672 6.83799C7.07048 6.83799 7.95202 5.98676 7.95202 4.94145Z"
                    fill="white"
                  />
                </svg>
              </Link>
              <Link to={"https://t.me"} className="social__item tg">
                <svg
                  width="17"
                  height="15"
                  viewBox="0 0 17 15"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0.600085 6.85877C2.28343 5.93153 4.16251 5.15765 5.91823 4.37981C8.93876 3.10577 11.9713 1.85381 15.0344 0.688246C15.6304 0.489646 16.7012 0.295426 16.8062 1.17863C16.7487 2.42879 16.5122 3.67163 16.35 4.91447C15.9382 7.64759 15.4623 10.3713 14.9982 13.0955C14.8383 14.0028 13.7016 14.4726 12.9742 13.8919C11.2263 12.7112 9.46495 11.5421 7.73935 10.334C7.17409 9.75965 7.69825 8.93483 8.20309 8.52467C9.64273 7.10591 11.1695 5.90051 12.5339 4.40843C12.9019 3.51965 11.8145 4.26869 11.4558 4.49819C9.48493 5.85635 7.56229 7.29743 5.48437 8.49107C4.42297 9.07535 3.18589 8.57603 2.12497 8.24999C1.17372 7.85615 -0.220212 7.45937 0.599989 6.85883L0.600085 6.85877Z"
                    fill="white"
                  />
                </svg>
              </Link>
            </div>
          </div>
        </div>
      </div>
    </BrowserRouter>
  );
};
